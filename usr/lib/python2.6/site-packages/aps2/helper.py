import os

import aps2.apsapi


class Helper:

    def __init__(self):
        pass

    def __getattr__(self, attr):
        try:
            return self.arrt
        except AttributeError:
            raise AttributeError("AttributeError: %r is not set!" % attr)

    def put_environ(self, environ):
        self.REQUEST_METHOD = environ.get('REQUEST_METHOD', 0)
        self.REQUEST_URI = environ.get('REQUEST_URI', 0)
        self.SCRIPT_NAME = environ.get('SCRIPT_NAME', 0)
        self.HTTP_APS_CONTROLLER_URI = environ.get('HTTP_APS_CONTROLLER_URI', 0)
        self.HTTP_APS_INSTANCE_ID = environ.get('HTTP_APS_INSTANCE_ID', 0)
        self.APS_API = aps2.apsapi.API(self.HTTP_APS_CONTROLLER_URI)
        self.PATH_CERTIFICATE = os.environ['APP_PATH'] + '/config/' + str(self.HTTP_APS_INSTANCE_ID) + '.pem'
        self.PATH_INFO = environ.get('PATH_INFO', 0)

        self.environ = environ

